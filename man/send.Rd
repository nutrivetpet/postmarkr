% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/send.R
\name{send}
\alias{send}
\title{Send Email or Template}
\usage{
send(client, message, ...)
}
\arguments{
\item{client}{A \link{Postmarkr} client object.}

\item{message}{An \link{Email} or \link{Template} object to send.}

\item{...}{Additional arguments passed to methods.}
}
\value{
A \code{Response} S7 object with the following properties:
\describe{
\item{data}{List containing API response data including \code{MessageID},
\code{SubmittedAt}, \code{To}, \code{ErrorCode}, and \code{Message} fields}
\item{status}{HTTP status code (200 for success)}
\item{request}{The httr2 request object used for the API call}
\item{response}{The httr2 response object from the API}
\item{success}{Logical indicating if the email was sent successfully}
}
}
\description{
Generic function to send emails through the Postmark API. This function
dispatches to the appropriate method based on the message type (\link{Email} or
\link{Template}).
}
\examples{
\dontrun{
# Create client
client <- Postmarkr(
  token = "your-server-token",
  message_stream = "outbound"
)

# Send a regular email
email <- Email(
  from = "sender@example.com",
  to = "recipient@example.com",
  subject = "Hello from postmarkr",
  text_body = "This is a test email sent via R."
)

response <- send(client, email)

# Check if successful
if (response@success) {
  cat("Email sent successfully!\n")
  cat("Message ID:", response@data$MessageID, "\n")
  cat("Submitted at:", response@data$SubmittedAt, "\n")
}

# Send HTML email with tracking
html_email <- Email(
  from = "notifications@example.com",
  to = "user@example.com",
  subject = "Welcome to our service",
  html_body = "<h1>Welcome!</h1><p>Thanks for signing up.</p>",
  track_opens = TRUE,
  track_links = "HtmlOnly",
  tag = "welcome-email"
)

response <- send(client, html_email)

# Send a template email
template <- Template(
  from = "sender@example.com",
  to = "recipient@example.com",
  id = 12345678L,
  template_model = list(name = "John", order_id = "ORD-123")
)

response <- send(client, template)
}

}
\seealso{
\itemize{
\item \link{Postmarkr} for creating an API client
\item \link{Email} for creating email objects
\item \link{Template} for creating template objects
\item \url{https://postmarkapp.com/developer/api/email-api#send-a-single-email}
for Postmark email API documentation
\item \url{https://postmarkapp.com/developer/api/templates-api#send-email-with-template}
for Postmark template API documentation
}
}
